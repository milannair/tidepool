# Railway configuration for tidepool-ingest service

[build]
builder = "dockerfile"
dockerfilePath = "ingest/Dockerfile"
watchPatterns = [
  "ingest/src/**",
  "crates/**",
  "Cargo.toml",
  "Cargo.lock",
  "ingest/Dockerfile"
]

[env]
RAILWAY_DOCKERFILE_PATH = "ingest/Dockerfile"

[deploy]
restartPolicyType = "on_failure"
restartPolicyMaxRetries = 10
healthcheckPath = "/health"
healthcheckTimeout = 30
